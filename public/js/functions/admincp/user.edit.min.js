
$(function(){cms.extend(cms.modules,{user:{add:{init:function(){this.initEvents();},initEvents:function(){var _this=this;cms.form('form',{validate:{rules:{'email':{required:true,email:true},'username':'required','password':'required','repassword':{required:true,equalTo:'#password'},'group_id':'required'},invalidHandler:function(event,validator){var errors=validator.numberOfInvalids();if(errors){validator.currentElements.parent().parent().addClass('error');}},errorElement:'span',showErrors:function(errorMap,errorList){this.defaultShowErrors();$('span.error').addClass('help-inline');},success:function(label){label.parent().parent().removeClass('error');}},success:function(resp){if(resp.status){cms.notif.success('Add new user successfully');}else{cms.notif.error(resp.msg);}}});}}}});cms.modules.run('user.add');});